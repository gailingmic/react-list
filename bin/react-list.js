!function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o,l,u=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),f=i(1),c=r(f),h=i(2),d=r(h),m=i(3),p=r(m),v=i(4),S=r(v),y=p.default.findDOMNode,g={x:"clientWidth",y:"clientHeight"},w={x:"clientTop",y:"clientLeft"},z={x:"innerWidth",y:"innerHeight"},b={x:"offsetWidth",y:"offsetHeight"},x={x:"offsetLeft",y:"offsetTop"},k={x:"overflowX",y:"overflowY"},P={x:"scrollWidth",y:"scrollHeight"},O={x:"scrollLeft",y:"scrollTop"},R={x:"width",y:"height"},E=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,F=window.cancelAnimationFrame||window.mozCancelAnimationFrame,M=(function(){if("undefined"==typeof window)return!1;var e=!1;try{document.createElement("div").addEventListener("test",NOOP,{get passive(){return e=!0,!1}})}catch(e){}}(),function(e,t){for(var i in t)if(e[i]!==t[i])return!1;return!0});e.exports=(l=o=function(e){function t(e){n(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.initialIndex,s=i.constrain(r,0,1,e),o=s.from,l=s.size;return i.state={from:o,size:l,itemsPerRow:1},i.cache={},i.rafId=null,i.refCallback=i.refCallback.bind(i),i}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,i=t.from,r=t.size,n=t.itemsPerRow;this.maybeSetState(this.constrain(i,r,n,e),NOOP)}},{key:"componentDidMount",value:function(){this.updateFrame=this.updateFrame.bind(this),window.addEventListener("resize",this.updateFrame,{passive:!0}),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"shouldComponentUpdate",value:function(e,t){return(0,S.default)(this,e,t)}},{key:"componentDidUpdate",value:function(){var e=this;if(!this.unstable){if(++this.updateCounter>100)return this.unstable=!0,console.error("ReactList failed to reach a stable state.");this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout(function(){e.updateCounter=0,delete e.updateCounterTimeoutId},0)),this.updateFrame()}}},{key:"maybeSetState",value:function(e,t){if(M(this.state,e))return t();this.setState(e,t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrame),this.scrollParent.removeEventListener("scroll",this.updateFrame),null!==this.rafId&&F(this.rafId)}},{key:"getOffset",value:function(e){var t=this.props.axis,i=e[w[t]]||0,r=x[t];do{i+=e[r]||0}while(e=e.offsetParent);return i}},{key:"getScrollParent",value:function(){var e=this.props,t=e.axis,i=e.scrollParentGetter;if(i)return i();for(var r=y(this),n=k[t];r=r.parentElement;)switch(window.getComputedStyle(r)[n]){case"auto":case"scroll":case"overlay":return r}return window}},{key:"getScroll",value:function(){var e=this.scrollParent,t=this.props.axis,i=O[t],r=e===window?document.body[i]||document.documentElement[i]:e[i],n=this.getScrollSize()-this.getViewportSize(),a=Math.max(0,Math.min(r,n)),s=y(this);return this.getOffset(e)+a-this.getOffset(s)}},{key:"setScroll",value:function(e){var t=this.scrollParent,i=this.props.axis;if(e+=this.getOffset(y(this)),t===window)return window.scrollTo(0,e);e-=this.getOffset(this.scrollParent),t[O[i]]=e}},{key:"getViewportSize",value:function(){var e=this.scrollParent,t=this.props.axis;return e===window?window[z[t]]:e[g[t]]}},{key:"getScrollSize",value:function(){var e=this.scrollParent,t=document,i=t.body,r=t.documentElement,n=P[this.props.axis];return e===window?Math.max(i[n],r[n]):e[n]}},{key:"hasDeterminateSize",value:function(){var e=this.props,t=e.itemSizeGetter;return"uniform"===e.type||t}},{key:"getStartAndEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.threshold,t=this.getScroll(),i=Math.max(0,t-e),r=t+this.getViewportSize()+e;return this.hasDeterminateSize()&&(r=Math.min(r,this.getSpaceBefore(this.props.length))),{start:i,end:r}}},{key:"getItemSizeAndItemsPerRow",value:function(){var e=this.props,t=e.axis,i=e.useStaticSize,r=this.state,n=r.itemSize,a=r.itemsPerRow;if(i&&n&&a)return{itemSize:n,itemsPerRow:a};var s=y(this.items).children;if(!s.length)return{};var o=s[0],l=o[b[t]],u=Math.abs(l-n);if((isNaN(u)||u>=1)&&(n=l),!n)return{};var f=x[t],c=o[f];a=1;for(var h=s[a];h&&h[f]===c;h=s[a])++a;return{itemSize:n,itemsPerRow:a}}},{key:"updateFrame",value:function(){switch(this.updateScrollParent(),this.props.type){case"simple":return this.updateSimpleFrame();case"variable":return this.updateVariableFrame();case"uniform":return this.updateUniformFrame()}}},{key:"updateScrollParent",value:function(){var e=this.scrollParent;this.scrollParent=this.getScrollParent(),e!==this.scrollParent&&(e&&e.removeEventListener("scroll",this.updateFrame),this.scrollParent.addEventListener("scroll",this.updateFrame,{passive:!0}))}},{key:"setNextState",value:function(e){var t=this;if(this.state.from!==e.from||this.state.size!==e.size)return E?void(null===this.rafId&&(this.rafId=E(function(){t.setState(e),t.rafId=null}))):void this.setState(e)}},{key:"updateSimpleFrame",value:function(){var e=this.getStartAndEnd(),t=e.end,i=y(this.items).children,r=0;if(i.length){var n=this.props.axis,a=i[0],s=i[i.length-1];r=this.getOffset(s)+s[b[n]]-this.getOffset(a)}if(!(r>t)){var o=this.props,l=o.pageSize,u=o.length;this.setNextState({size:Math.min(this.state.size+l,u)})}}},{key:"updateVariableFrame",value:function(){this.props.itemSizeGetter||this.cacheSizes();for(var e=this.getStartAndEnd(),t=e.start,i=e.end,r=this.props,n=r.length,a=r.pageSize,s=0,o=0,l=0,u=n-1;o<u;){var f=this.getSizeOf(o);if(null==f||s+f>t)break;s+=f,++o}for(var c=n-o;l<c&&s<i;){var h=this.getSizeOf(o+l);if(null==h){l=Math.min(l+a,c);break}s+=h,++l}this.setNextState({from:o,size:l})}},{key:"updateUniformFrame",value:function(){var e=this.getItemSizeAndItemsPerRow(),t=e.itemSize,i=e.itemsPerRow;if(t&&i){var r=this.getStartAndEnd(),n=r.start,a=r.end,s=this.constrain(Math.floor(n/t)*i,(Math.ceil((a-n)/t)+1)*i,i,this.props),o=s.from,l=s.size;return this.setNextState({itemsPerRow:i,from:o,itemSize:t,size:l})}}},{key:"getSpaceBefore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=t[e])return t[e];var i=this.state,r=i.itemSize,n=i.itemsPerRow;if(r)return t[e]=Math.floor(e/n)*r;for(var a=e;a>0&&null==t[--a];);for(var s=t[a]||0,o=a;o<e;++o){t[o]=s;var l=this.getSizeOf(o);if(null==l)break;s+=l}return t[e]=s}},{key:"cacheSizes",value:function(){for(var e=this.cache,t=this.state.from,i=y(this.items).children,r=b[this.props.axis],n=0,a=i.length;n<a;++n)e[t+n]=i[n][r]}},{key:"getSizeOf",value:function(e){var t=this.cache,i=this.items,r=this.props,n=r.axis,a=r.itemSizeGetter,s=r.itemSizeEstimator,o=r.type,l=this.state,u=l.from,f=l.itemSize,c=l.size;if(f)return f;if(a)return a(e);if(e in t)return t[e];if("simple"===o&&e>=u&&e<u+c&&i){var h=y(i).children[e-u];if(h)return h[b[n]]}return s?s(e,t):void 0}},{key:"constrain",value:function(e,t,i,r){var n=r.length,a=r.minSize,s=r.type;t=Math.max(t,a);var o=t%i;return o&&(t+=i-o),t>n&&(t=n),e="simple"!==s&&e?Math.max(Math.min(e,n-t),0):0,(o=e%i)&&(e-=o,t+=o),{from:e,size:t}}},{key:"scrollTo",value:function(e){null!=e&&this.setScroll(this.getSpaceBefore(e))}},{key:"scrollAround",value:function(e){var t=this.getScroll(),i=this.getSpaceBefore(e),r=i-this.getViewportSize()+this.getSizeOf(e),n=Math.min(r,i),a=Math.max(r,i);return t<=n?this.setScroll(n):t>a?this.setScroll(a):void 0}},{key:"getVisibleRange",value:function(){for(var e=this.state,t=e.from,i=e.size,r=this.getStartAndEnd(0),n=r.start,a=r.end,s={},o=void 0,l=void 0,u=t;u<t+i;++u){var f=this.getSpaceBefore(u,s),c=f+this.getSizeOf(u);null==o&&c>n&&(o=u),null!=o&&f<a&&(l=u)}return[o,l]}},{key:"refCallback",value:function(e){return this.items=e,this.items}},{key:"renderItems",value:function(){for(var e=this.props,t=e.itemRenderer,i=e.itemsRenderer,r=this.state,n=r.from,a=r.size,s=[],o=0;o<a;++o)s.push(t(n+o,o));return i(s,this.refCallback)}},{key:"render",value:function(){var e=this.props,t=e.axis,i=e.length,r=e.type,n=e.useTranslate3d,a=this.state,s=a.from,o=a.itemsPerRow,l=this.renderItems();if("simple"===r)return l;var u={position:"relative"},f={},c=Math.ceil(i/o)*o,h=this.getSpaceBefore(c,f);h&&(u[R[t]]=h,"x"===t&&(u.overflowX="hidden"));var m=this.getSpaceBefore(s,f),p="x"===t?m:0,v="y"===t?m:0,S=n?"translate3d("+p+"px, "+v+"px, 0)":"translate("+p+"px, "+v+"px)",y={msTransform:S,WebkitTransform:S,transform:S};return d.default.createElement("div",{style:u},d.default.createElement("div",{style:y},l))}}]),t}(h.Component),o.displayName="ReactList",o.propTypes={axis:c.default.oneOf(["x","y"]),initialIndex:c.default.number,itemRenderer:c.default.func,itemSizeEstimator:c.default.func,itemSizeGetter:c.default.func,itemsRenderer:c.default.func,length:c.default.number,minSize:c.default.number,pageSize:c.default.number,scrollParentGetter:c.default.func,threshold:c.default.number,type:c.default.oneOf(["simple","variable","uniform"]),useStaticSize:c.default.bool,useTranslate3d:c.default.bool},o.defaultProps={axis:"y",itemRenderer:function(e,t){return d.default.createElement("div",{key:t},e)},itemsRenderer:function(e,t){return d.default.createElement("div",{ref:t},e)},length:0,minSize:1,pageSize:10,threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1},l)},function(e,t){e.exports=prop-types},function(e,t){e.exports=react},function(e,t){e.exports=react-dom},function(e,t){e.exports=react-addons-shallow-compare}]);